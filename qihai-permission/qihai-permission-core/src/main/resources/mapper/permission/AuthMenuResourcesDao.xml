<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qihai.permission.dao.AuthMenuResourcesDao">

	<!-- 可根据自己的需求，是否要使用 -->
	<resultMap
		type="com.qihai.permission.entity.AuthMenuResourcesEntity"
		id="authMenuResourcesMap">
		<result property="id" column="id" />
		<result property="menuCode" column="menu_code" />
		<result property="menuTitle" column="menu_title" />
		<result property="parentId" column="parent_id" />
		<result property="menuIcon" column="menu_icon" />
		<result property="menuPath" column="menu_path" />
		<result property="menuType" column="menu_type" />
		<result property="displaySequence" column="display_sequence" />
		<result property="description" column="description" />
		<result property="component" column="component" />
		<result property="authMenuId" column="auth_menu_id" />
		<result property="displayFlag" column="display_flag" />
		<result property="enabledFlag" column="enabled_flag" />
		<result property="traceId" column="trace_id" />
		<result property="createdBy" column="created_by" />
		<result property="createTime" column="create_time" />
		<result property="updatedBy" column="updated_by" />
		<result property="updateTime" column="update_time" />
		<result property="delFlag" column="del_flag" />
		<result property="remarks" column="remarks" />
	</resultMap>


	<!-- 查询所有有效菜单(del_flag=0为有效) -->
	<select id="listMenu"
		resultType="com.qihai.permission.entity.AuthMenuResourcesEntity">
		SELECT
			*
		FROM
		auth_menu_resources a
		WHERE
			a.parent_id = #{parentId}
			ORDER BY
			a.display_sequence
			AND a.del_flag = 0
	</select>


</mapper>